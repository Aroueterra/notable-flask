2021-02-17 20:43:16,325 - app - INFO - POST: success
2021-02-17 20:43:16,326 - app - INFO - Count: 1
2021-02-17 20:43:16,327 - app - INFO - Host: 024298f3cac0.ngrok.io
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36
Content-Length: 25985
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cache-Control: max-age=0
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryI7k23CmmrC14RQEl
Origin: https://024298f3cac0.ngrok.io
Referer: https://024298f3cac0.ngrok.io/
Sec-Ch-Ua: "Chromium";v="88", "Google Chrome";v="88", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Upgrade-Insecure-Requests: 1
X-Forwarded-For: 180.191.234.147
X-Forwarded-Proto: https


2021-02-17 20:43:16,411 - app - INFO - File: exists
2021-02-17 20:43:16,412 - app - INFO - File: exists | Format: matching
2021-02-17 20:43:42,299 - app - INFO - END PREDICTION: 25.887564420700073
2021-02-17 20:58:13,877 - app - INFO - POST: success
2021-02-17 20:58:13,878 - app - INFO - Count: 1
2021-02-17 20:58:13,878 - app - INFO - Host: 024298f3cac0.ngrok.io
User-Agent: okhttp/4.9.0
Content-Length: 2433050
Accept-Encoding: gzip
Content-Type: multipart/form-data; boundary=c5f589f7-235d-44e1-adf9-16948d02a0e6
X-Forwarded-For: 2001:4451:aed:7000:84ab:ee4c:92ac:1610
X-Forwarded-Proto: https


2021-02-17 20:58:13,879 - app - INFO - File: exists
2021-02-17 20:58:13,880 - app - INFO - File: exists | Format: matching
2021-02-17 20:58:22,311 - app - ERROR - Exception on /predict [POST]
Traceback (most recent call last):
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "app.py", line 87, in predict
    all_predictions = model.predict(cv_img)
  File "C:\Users\aroue\Downloads\Documents\@ML\notable-flask\ml_model.py", line 58, in predict
    segmented_staves = Slice(cv_img)
  File "C:\Users\aroue\Downloads\Documents\@ML\notable-flask\segmenter\slicer.py", line 39, in Slice
    ret, mat = binarize_image(img_buffer)
  File "C:\Users\aroue\Downloads\Documents\@ML\notable-flask\segmenter\commonfunctions.py", line 40, in binarize_image
    ret3, bin_img = cv2.threshold(mat,0,255,cv2.THRESH_BINARY+cv2.THRESH_OTSU)
cv2.error: OpenCV(4.4.0) C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-h4wtvo23\opencv\modules\imgproc\src\thresh.cpp:1557: error: (-2:Unspecified error) in function 'double __cdecl cv::threshold(const class cv::_InputArray &,const class cv::_OutputArray &,double,double,int)'
> THRESH_OTSU mode:
>     'src_type == CV_8UC1 || src_type == CV_16UC1'
> where
>     'src_type' is 16 (CV_8UC3)

2021-02-17 21:02:48,910 - app - INFO - POST: success
2021-02-17 21:02:48,911 - app - INFO - Count: 1
2021-02-17 21:02:48,912 - app - INFO - Host: 024298f3cac0.ngrok.io
User-Agent: okhttp/4.9.0
Content-Length: 2454422
Accept-Encoding: gzip
Content-Type: multipart/form-data; boundary=527131ec-434d-4ab8-80c4-a9e71a7f4d54
X-Forwarded-For: 2001:4451:aed:7000:84ab:ee4c:92ac:1610
X-Forwarded-Proto: https


2021-02-17 21:02:48,914 - app - INFO - File: exists
2021-02-17 21:02:48,914 - app - INFO - File: exists | Format: matching
2021-02-17 21:02:50,763 - app - ERROR - Exception on /predict [POST]
Traceback (most recent call last):
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\aroue\anaconda3\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "app.py", line 87, in predict
    all_predictions = model.predict(cv_img)
  File "C:\Users\aroue\Downloads\Documents\@ML\notable-flask\ml_model.py", line 58, in predict
    start_time = time.time()
  File "C:\Users\aroue\Downloads\Documents\@ML\notable-flask\segmenter\slicer.py", line 39, in Slice
    ret, mat = binarize_image(img_buffer)
  File "C:\Users\aroue\Downloads\Documents\@ML\notable-flask\segmenter\commonfunctions.py", line 40, in binarize_image
    ret3, bin_img = cv2.threshold(mat,0,255,cv2.THRESH_BINARY+cv2.THRESH_OTSU)
cv2.error: OpenCV(4.4.0) C:\Users\appveyor\AppData\Local\Temp\1\pip-req-build-h4wtvo23\opencv\modules\imgproc\src\thresh.cpp:1557: error: (-2:Unspecified error) in function 'double __cdecl cv::threshold(const class cv::_InputArray &,const class cv::_OutputArray &,double,double,int)'
> THRESH_OTSU mode:
>     'src_type == CV_8UC1 || src_type == CV_16UC1'
> where
>     'src_type' is 16 (CV_8UC3)

2021-02-17 22:26:12,064 - app - INFO - POST: success
2021-02-17 22:26:12,102 - app - INFO - # of files in request: 1
2021-02-17 22:26:12,102 - app - INFO - Host: 13a6654c5577.ngrok.io
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36
Content-Length: 25985
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cache-Control: max-age=0
Content-Type: multipart/form-data; boundary=----WebKitFormBoundarySw5849Tof1J1nphT
Origin: https://13a6654c5577.ngrok.io
Referer: https://13a6654c5577.ngrok.io/
Sec-Ch-Ua: "Chromium";v="88", "Google Chrome";v="88", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Upgrade-Insecure-Requests: 1
X-Forwarded-For: 180.191.234.147
X-Forwarded-Proto: https


2021-02-17 22:26:12,103 - app - INFO - File: exists
2021-02-17 22:26:12,104 - app - INFO - File: exists | Format: matching
2021-02-17 22:26:31,506 - app - INFO - All processes completed: 19.401771783828735
2021-02-17 22:38:38,267 - app - INFO - POST: success
2021-02-17 22:38:38,268 - app - INFO - # of files in request: 1
2021-02-17 22:38:38,268 - app - INFO - Host: 13a6654c5577.ngrok.io
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36
Content-Length: 56482
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cache-Control: max-age=0
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryVG2NBJ2wkBfjRQoB
Origin: https://13a6654c5577.ngrok.io
Referer: https://13a6654c5577.ngrok.io/
Sec-Ch-Ua: "Chromium";v="88", "Google Chrome";v="88", ";Not A Brand";v="99"
Sec-Ch-Ua-Mobile: ?0
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Upgrade-Insecure-Requests: 1
X-Forwarded-For: 180.191.234.147
X-Forwarded-Proto: https


2021-02-17 22:38:38,268 - app - INFO - File: exists
2021-02-17 22:38:38,268 - app - INFO - File: exists | Format: matching
